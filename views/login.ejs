<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
	<!-- Alex Fankhauser, Preston Fitzgerald, Seth Brock, Zach Hansen -->
	<!-- Section 1 Group 11 -->
	<!-- This page is a login page -->
	<script src="../assets/js/color-modes.js"></script>

	<!-- Page info and definitions -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Login page to access website resources">
	<meta name="author" content="Preston Fitzgerald, Seth Brock, Alex Fankhauser, Zach Hansen" />
	<meta name="generator" content="Hugo 0.118.2">
	<title>Login | Karen Brock</title>

	<!-- Bootstrap link -->
	<link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/sign-in/">

	<!-- Extra Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
	<link href="./css/bootstrap.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
	<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
		type="text/css" />

	<!-- Core theme CSS (includes Bootstrap) -->
	<link href="css/styles.css" rel="stylesheet" />

	<!-- Custom styles for this template -->
	<link href="./css/sign-in.css" rel="stylesheet">
</head>

<body class="d-flex align-items-center py-4 bg-body-tertiary" onload="errorCheck(),  loginCheck()">
	<!-- Navigation Bar -->
	<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
		<div class="container">
			<a class="navbar-brand" href="/">Karen J. Brock: Leading Schools</a>
			<!-- If the page is small enough the menu will compress into a dropdown button -->
			<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				Menu
				<i class="fas fa-bars"></i>
			</button>
			<!-- Menu buttons -->
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="/trainings">Trainings</a></li>
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="/about">About</a></li>
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="/account">Account</a></li>
					<span id="account"></span>
				</ul>
			</div>
		</div>
	</nav>

	<!-- The main body of the page -->
	<main class="form-signin w-100 m-auto">
		<!-- Login form -->
		<form action="/validate" method="post">
			<br><br><br><br><br>
			<!-- we commented out the following image but have it available in case the client wants it back -->
			<!--<img class="mb-4" src="./assets/img/schoolicon.jpg" alt="school icon" style="margin: auto; display: block;">-->
			<h1 class="h3 mb-3 fw-normal">Sign In</h1>

			<!-- Email address field -->
			<div class="form-floating">
				<input type="email" class="form-control" id="username" name="username" placeholder="name@example.com">
				<label for="floatingInput">Email address</label>
			</div>
			<!-- Password field -->
			<div class="form-floating">
				<input type="password" class="form-control" id="password" name="password" placeholder="Password">
				<label for="floatingPassword">Password</label>
			</div>

			<!-- Form submit button -->
			<button class="btn btn-primary w-100 py-2" type="submit">Sign in</button>

			<!-- If login fails, text will show up saying login credentials were incorrect. Script for this is below -->
			<p id="stop" style="color: red; font-weight: bolder;"></p>
		</form>
		<!-- Create account link -->
		<p><a href="/createAccount">Create new account</a></p>
		<p class="mt-5 mb-3 text-body-secondary">&copy; Karen J. Brock: Leading Schools, 2023</p>
	</main>

	<!-- This script generates an error message if the username or password is incorrect. Executed on page load -->
	<script>
		function errorCheck() {
			if (sessionStorage.getItem('fail') == 'true') {
				console.log('fail')
				document.getElementById('stop').innerHTML = 'Incorrect username or password'
			}

			sessionStorage.setItem('fail', false);
		}
	</script>

	<!-- Some Bootstrap Javascript code -->
	<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

	<!-- Script to check if the user is logged in. Check done on page load. -->
	<script>
		function loginCheck() {
			if (sessionStorage.getItem('login') == 'true') {
				document.getElementById('account').innerHTML = '<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/logout">Log Out</a></li>';
			} else {
				document.getElementById('account').innerHTML = '<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/login">Log In</a></li>'
			}
		}
	</script>

</body>

</html>